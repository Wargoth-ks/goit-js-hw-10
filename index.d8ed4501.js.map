{"mappings":"AAAA,MAAMA,EAAM,CACRC,SAAU,+BACVC,QAASA,SAGPC,EAAS,CACXC,SAAUC,SAASC,cAAc,iBACjCC,QAASF,SAASC,cAAc,aAChCE,UAAWH,SAASC,cAAc,WAClCG,SAAUJ,SAASC,cAAc,YCP/BL,SAAES,EAAQR,QAAES,GAAYX,GAExBQ,UAAEI,EAASR,SAAES,GAAaV,EAWhCW,eAAeC,EAAgBC,GAC3BJ,EAAUK,QAAS,EACnBJ,EAASI,QAAS,EAClB,MAAMC,QAAaC,MACf,GAAGT,6BAAoCM,aAAmBL,KAE9D,IAAKO,EAAKE,GACN,MAAM,IAAIC,MAAMH,EAAKI,YAEzB,aAAaJ,EAAKK,M,CCjBtB,MAAMnB,SAAEoB,EAAQf,SAAEgB,EAAQjB,UAAEkB,EAASnB,QAAEoB,GAAYxB,EAEnDqB,EAASP,QAAS,EAClBQ,EAASR,QAAS,EAClBS,EAAUT,QAAS,EDLnBH,iBACI,MAAMI,QAAaC,MAAM,GAAGT,YAC5B,IAAKQ,EAAKE,GAEN,MAAM,IAAIC,MAAMH,EAAKI,YAEzB,aAAaJ,EAAKK,M,CCCtB,GACKK,MAAKC,IACFH,EAAUT,QAAS,EACnBO,EAASP,QAAS,EAClBO,EAASM,mBAAmB,YAAoBD,EAW/CE,KACG,EAACC,GAAEA,EAAEC,KAAEA,KACH,iBAAiBD,uBACfC,6BAGTC,KAAK,IAjBiD,IAG1DC,OAAMC,IACHX,EAASR,QAAS,EAClBS,EAAUT,QAAS,EACnBoB,QAAQC,IAAIF,EAAI,IAcxBZ,EAASe,iBAAiB,UAE1B,SAAkBC,GACdb,EAAQc,UAAY,GAGpB1B,EAFcyB,EAAME,cAAcC,OAG7Bf,MAAKgB,IAEF,MAAMC,EAAOD,EAAM,GAAGE,OACtBpB,EAAUT,QAAS,EACnBO,EAASP,QAAS,EAClBU,EAAQG,mBAAmB,YAAuBe,EAYrDd,KACG,EAACE,KAAEA,EAAIc,YAAEA,EAAWC,YAAEA,EAAWC,mBAAEA,KAC/B,OAAOhB,0BACNc,sCACaC,gCACNC,WAA4BA,QAE3Cf,KAAK,IAnBsD,IAE3DC,OAAMC,IACHX,EAASR,QAAS,EAClBS,EAAUT,QAAS,EACnBoB,QAAQC,IAAIF,EAAI,G","sources":["src/common.js","src/cat-api.js","src/index.js"],"sourcesContent":["const api = {\n    BASE_URL: 'https://api.thecatapi.com/v1',\n    API_KEY: API_KEY,\n};\n\nconst common = {\n    listCats: document.querySelector('.breed-select'),\n    catInfo: document.querySelector('.cat-info'),\n    catLoader: document.querySelector('.loader'),\n    catError: document.querySelector('.error'),\n};\n\nexport { common, api };\n","import { common, api } from './common';\n\nconst { BASE_URL, API_KEY } = api;\n\nconst { catLoader, listCats } = common;\n\nasync function fetchBreeds() {\n    const resp = await fetch(`${BASE_URL}/breeds`);\n    if (!resp.ok) {\n        // console.dir(resp.statusText);\n        throw new Error(resp.statusText);\n    }\n    return await resp.json();\n}\n\nasync function fetchCatByBreed(breedId) {\n    catLoader.hidden = false;\n    listCats.hidden = true;\n    const resp = await fetch(\n        `${BASE_URL}/images/search?breed_ids=${breedId}&api_key=${API_KEY}`\n    );\n    if (!resp.ok) {\n        throw new Error(resp.statusText);\n    }\n    return await resp.json();\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n","// live_ANH48hIXDEm2eu0HS7UN2q6nHT50BC7cCUFg9Yks2LDuWHtFraaoOVrP4F4Y8FCL\n\nimport { fetchBreeds, fetchCatByBreed } from './cat-api';\nimport { common } from './common';\n// import Notiflix from 'notiflix';\n// import axios from 'axios';\n\nconst { listCats, catError, catLoader, catInfo } = common;\n\nlistCats.hidden = true;\ncatError.hidden = true;\ncatLoader.hidden = false;\n\nfetchBreeds()\n    .then(array => {\n        catLoader.hidden = true;\n        listCats.hidden = false;\n        listCats.insertAdjacentHTML('beforeend', markup(array));\n        // console.dir(array);\n    })\n    .catch(err => {\n        catError.hidden = false;\n        catLoader.hidden = true;\n        console.dir(err);\n    });\n\nfunction markup(arr) {\n    return arr\n        .map(\n            ({ id, name }) =>\n                `<option value=${id}>\n                ${name}\n            </option>`\n        )\n        .join('');\n}\n\nlistCats.addEventListener('change', onChange);\n\nfunction onChange(event) {\n    catInfo.innerHTML = '';\n    const catId = event.currentTarget.value;\n    // console.dir(catId);\n    fetchCatByBreed(catId)\n        .then(catId => {\n            // console.dir([...catId][0]);\n            const cats = catId[0].breeds;\n            catLoader.hidden = true;\n            listCats.hidden = false;\n            catInfo.insertAdjacentHTML('beforeend', markupCat(cats));\n        })\n        .catch(err => {\n            catError.hidden = false;\n            catLoader.hidden = true;\n            console.dir(err);\n        });\n}\n\nfunction markupCat(arr) {\n    // console.dir(arr);\n    return arr\n        .map(\n            ({ name, description, temperament, reference_image_id }) =>\n                `<h2>${name}</h2>\n            <p>${description}</p>\n            <p>Temperament: ${temperament}</p>\n            <img src=\"${reference_image_id}\" alt=\"${reference_image_id}\">`\n        )\n        .join('');\n}\n\nexport { listCats, catLoader };\n"],"names":["$0aa3c05db5cfd8e5$export$644d8ea042df96a6","BASE_URL","API_KEY","$0aa3c05db5cfd8e5$export$919daad019702595","listCats","document","querySelector","catInfo","catLoader","catError","$6b5f202d1456c0af$var$BASE_URL","$6b5f202d1456c0af$var$API_KEY","$6b5f202d1456c0af$var$catLoader","$6b5f202d1456c0af$var$listCats","async","$6b5f202d1456c0af$export$57b7d3a597416aa2","breedId","hidden","resp","fetch","ok","Error","statusText","json","$1f0dc3b9307be026$export$5f95d8cb92cf7a97","$1f0dc3b9307be026$var$catError","$1f0dc3b9307be026$export$b6198e0cd3683d9a","$1f0dc3b9307be026$var$catInfo","then","array","insertAdjacentHTML","map","id","name","join","catch","err","console","dir","addEventListener","event","innerHTML","currentTarget","value","catId","cats","breeds","description","temperament","reference_image_id"],"version":3,"file":"index.d8ed4501.js.map"}