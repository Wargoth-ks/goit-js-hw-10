{"mappings":"AAAA,MAKMA,EAAS,CACXC,SAAUC,SAASC,cAAc,iBACjCC,QAASF,SAASC,cAAc,aAChCE,UAAWH,SAASC,cAAc,WAClCG,SAAUJ,SAASC,cAAc,YCP/BI,SAAEC,EAAQC,QAAEC,GDFN,CACRH,SAAU,+BACVE,QAAS,KCEPJ,UAAEM,EAASV,SAAEW,GAAaZ,ECGhC,MAAMC,SAAEY,EAAQP,SAAEQ,EAAQT,UAAEU,EAASX,QAAEY,GAAYhB,EAEnDa,EAASI,QAAS,EAClBH,EAASG,QAAS,EAClBF,EAAUE,QAAS,EDJRC,MAAM,GAAGV,YAAmBW,MAAKC,IACpC,IAAKA,EAAKC,GAEN,MAAM,IAAIC,MAAMF,EAAKG,YAGzB,OAAOH,EAAKI,MAAM,ICCrBL,MAAKM,IACFV,EAAUE,QAAS,EACnBJ,EAASI,QAAS,EAClBJ,EAASa,mBAAmB,YAAoBD,EAW/CE,KACG,EAACC,GAAEA,EAAEC,KAAEA,KACH,iBAAiBD,uBACfC,6BAGTC,KAAK,IAjBiD,IAG1DC,OAAMC,IACHlB,EAASG,QAAS,EAClBF,EAAUE,QAAS,EACnBgB,QAAQC,IAAIF,EAAI,IAcxBnB,EAASsB,iBAAiB,UAE1B,SAAkBC,GACdpB,EAAQqB,UAAY,IDvBCC,ECwBPF,EAAMG,cAAcC,MDvBlC7B,EAAUM,QAAS,EACnBL,EAASK,QAAS,EACXC,MACH,GAAGV,6BAAoC8B,aAAmB5B,KAC5DS,MAAKC,IACH,IAAKA,EAAKC,GACN,MAAM,IAAIC,MAAMF,EAAKG,YAEzB,OAAOH,EAAKI,MAAM,KCkBjBL,MAAKsB,IAEF,MAAMC,EAAOD,EAAM,GAAGE,OACtB5B,EAAUE,QAAS,EACnBJ,EAASI,QAAS,EAClBD,EAAQU,mBAAmB,YAAuBgB,EAYrDf,KACG,EAACE,KAAEA,EAAIe,YAAEA,EAAWC,YAAEA,EAAWC,mBAAEA,KAC/B,OAAOjB,0BACNe,sCACaC,gCACNC,WAA4BA,QAE3ChB,KAAK,IAnBsD,IAE3DC,OAAMC,IACHlB,EAASG,QAAS,EAClBF,EAAUE,QAAS,EACnBgB,QAAQC,IAAIF,EAAI,IDrC5B,IAAyBM,C","sources":["src/common.js","src/cat-api.js","src/index.js"],"sourcesContent":["const api = {\n    BASE_URL: 'https://api.thecatapi.com/v1',\n    API_KEY: \"\",\n};\n\nconst common = {\n    listCats: document.querySelector('.breed-select'),\n    catInfo: document.querySelector('.cat-info'),\n    catLoader: document.querySelector('.loader'),\n    catError: document.querySelector('.error'),\n};\n\nexport { common, api };\n","import { common, api } from './common';\n\nconst { BASE_URL, API_KEY } = api;\n\nconst { catLoader, listCats } = common;\n\nfunction fetchBreeds() {\n    return fetch(`${BASE_URL}/breeds`).then(resp => {\n        if (!resp.ok) {\n            // console.dir(resp.statusText);\n            throw new Error(resp.statusText);\n        }\n        // console.dir(object);\n        return resp.json();\n    });\n}\n\nfunction fetchCatByBreed(breedId) {\n    catLoader.hidden = false;\n    listCats.hidden = true;\n    return fetch(\n        `${BASE_URL}/images/search?breed_ids=${breedId}&api_key=${API_KEY}`\n    ).then(resp => {\n        if (!resp.ok) {\n            throw new Error(resp.statusText);\n        }\n        return resp.json();\n    });\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n","// live_ANH48hIXDEm2eu0HS7UN2q6nHT50BC7cCUFg9Yks2LDuWHtFraaoOVrP4F4Y8FCL\n\nimport { fetchBreeds, fetchCatByBreed } from './cat-api';\nimport { common } from './common';\n// import Notiflix from 'notiflix';\n// import axios from 'axios';\n\nconst { listCats, catError, catLoader, catInfo } = common;\n\nlistCats.hidden = true;\ncatError.hidden = true;\ncatLoader.hidden = false;\n\nfetchBreeds()\n    .then(array => {\n        catLoader.hidden = true;\n        listCats.hidden = false;\n        listCats.insertAdjacentHTML('beforeend', markup(array));\n        // console.dir(array);\n    })\n    .catch(err => {\n        catError.hidden = false;\n        catLoader.hidden = true;\n        console.dir(err);\n    });\n\nfunction markup(arr) {\n    return arr\n        .map(\n            ({ id, name }) =>\n                `<option value=${id}>\n                ${name}\n            </option>`\n        )\n        .join('');\n}\n\nlistCats.addEventListener('change', onChange);\n\nfunction onChange(event) {\n    catInfo.innerHTML = '';\n    const catId = event.currentTarget.value;\n    // console.dir(catId);\n    fetchCatByBreed(catId)\n        .then(catId => {\n            // console.dir([...catId][0]);\n            const cats = catId[0].breeds;\n            catLoader.hidden = true;\n            listCats.hidden = false;\n            catInfo.insertAdjacentHTML('beforeend', markupCat(cats));\n        })\n        .catch(err => {\n            catError.hidden = false;\n            catLoader.hidden = true;\n            console.dir(err);\n        });\n}\n\nfunction markupCat(arr) {\n    // console.dir(arr);\n    return arr\n        .map(\n            ({ name, description, temperament, reference_image_id }) =>\n                `<h2>${name}</h2>\n            <p>${description}</p>\n            <p>Temperament: ${temperament}</p>\n            <img src=\"${reference_image_id}\" alt=\"${reference_image_id}\">`\n        )\n        .join('');\n}\n\nexport { listCats, catLoader };\n"],"names":["$0aa3c05db5cfd8e5$export$919daad019702595","listCats","document","querySelector","catInfo","catLoader","catError","BASE_URL","$6b5f202d1456c0af$var$BASE_URL","API_KEY","$6b5f202d1456c0af$var$API_KEY","$6b5f202d1456c0af$var$catLoader","$6b5f202d1456c0af$var$listCats","$1f0dc3b9307be026$export$5f95d8cb92cf7a97","$1f0dc3b9307be026$var$catError","$1f0dc3b9307be026$export$b6198e0cd3683d9a","$1f0dc3b9307be026$var$catInfo","hidden","fetch","then","resp","ok","Error","statusText","json","array","insertAdjacentHTML","map","id","name","join","catch","err","console","dir","addEventListener","event","innerHTML","breedId","currentTarget","value","catId","cats","breeds","description","temperament","reference_image_id"],"version":3,"file":"index.69eec24e.js.map"}